{"version":3,"sources":["../source/PageAndMenu.js"],"names":["React","Component","PropTypes","Page_and_menu","hide_menu_on_mouse_down","bind","props","children","rest","markup","event","menu","menu_button","element","contains","target","hide","context","react_responsive_ui_menu","toggle","register","Error","undefined","register_menu_button","childContextTypes","shape","func","isRequired"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;;IAEqBC,a;;;AAYpB;AACA;AACA;AACA;AACA;AACA;;AAEA,0BACA;AAAA;;AAAA;;AAGC,QAAKC,uBAAL,GAA+B,MAAKA,uBAAL,CAA6BC,IAA7B,OAA/B;AACA;AACA;AALD;AAMC;;;;2BAGD;AAAA,gBAC+B,KAAKC,KADpC;AAAA,OACSC,QADT,UACSA,QADT;AAAA,OACsBC,IADtB;;AAGC,OAAMC,SAEL;AAAA;AAAA;AACC,mBAAe,KAAKL,uBADrB;AAEC,kBAAc,KAAKA;AAFpB,OAGMI,IAHN;AAIGD;AAJH,IAFD;;AAUA,UAAOE,MAAP;AACA;;;0CAEuBC,K,EACxB;AACC,OAAI,CAAC,KAAKC,IAAN,IAAc,CAAC,KAAKC,WAAxB,EACA;AACC;AACA;;AAED;AACA,OAAI,KAAKD,IAAL,CAAUE,OAAV,GAAoBC,QAApB,CAA6BJ,MAAMK,MAAnC,KACA,KAAKH,WAAL,CAAiBC,OAAjB,GAA2BC,QAA3B,CAAoCJ,MAAMK,MAA1C,CADJ,EAEA;AACC;AACA;;AAED,QAAKJ,IAAL,CAAUK,IAAV;AACA;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;oCAGA;AAAA;;AACC,OAAMC,UACN;AACCC,8BACA;AACCC,aAAS;AAAA,aAAM,OAAKR,IAAL,CAAUQ,MAAV,EAAN;AAAA,MADV;;AAGCC,eAAU,kBAACT,IAAD,EACV;AACC,UAAI,OAAKA,IAAT,EACA;AACC,aAAM,IAAIU,KAAJ,CAAU,kDAAV,CAAN;AACA;;AAED,aAAKV,IAAL,GAAYA,IAAZ;;AAEA,aAAO;AAAA,cAAM,OAAKA,IAAL,GAAYW,SAAlB;AAAA,OAAP;AACA,MAbF;;AAeCC,2BAAsB,8BAACX,WAAD,EACtB;AACC,UAAI,OAAKA,WAAT,EACA;AACC,aAAM,IAAIS,KAAJ,CAAU,yDAAV,CAAN;AACA;;AAED,aAAKT,WAAL,GAAmBA,WAAnB;;AAEA,aAAO;AAAA,cAAM,OAAKA,WAAL,GAAmBU,SAAzB;AAAA,OAAP;AACA;AAzBF;AAFD,IADA;;AAgCA,UAAOL,OAAP;AACA;;;;EAxHyChB,S;;AAAtBE,a,CAEbqB,iB,GACP;AACCN,2BAA2BhB,UAAUuB,KAAV,CAC1B;AACAN,UAAWjB,UAAUwB,IAAV,CAAeC,UAD1B;AAEAP,YAAWlB,UAAUwB,IAAV,CAAeC;AAF1B,EAD0B,EAK1BA;AANF,C;eAHoBxB,a","file":"PageAndMenu.js","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nexport default class Page_and_menu extends Component\n{\n\tstatic childContextTypes =\n\t{\n\t\treact_responsive_ui_menu : PropTypes.shape\n\t\t({\n\t\t\ttoggle   : PropTypes.func.isRequired,\n\t\t\tregister : PropTypes.func.isRequired\n\t\t})\n\t\t.isRequired\n\t}\n\n\t// state =\n\t// {\n\t// \tshow_menu  : false,\n\t// \tmenu_width : 0,\n\t// \tpage_moved_aside : false\n\t// }\n\n\tconstructor()\n\t{\n\t\tsuper()\n\n\t\tthis.hide_menu_on_mouse_down = this.hide_menu_on_mouse_down.bind(this)\n\t\t// this.toggle_menu        = this.toggle_menu.bind(this)\n\t\t// this.update_menu_width  = this.update_menu_width.bind(this)\n\t}\n\n\trender()\n\t{\n\t\tconst { children, ...rest } = this.props\n\n\t\tconst markup =\n\t\t(\n\t\t\t<div\n\t\t\t\tonTouchStart={ this.hide_menu_on_mouse_down }\n\t\t\t\tonMouseDown={ this.hide_menu_on_mouse_down }\n\t\t\t\t{ ...rest }>\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t)\n\n\t\treturn markup\n\t}\n\n\thide_menu_on_mouse_down(event)\n\t{\n\t\tif (!this.menu || !this.menu_button)\n\t\t{\n\t\t\treturn\n\t\t}\n\n\t\t// Hide the menu only if clicked outside\n\t\tif (this.menu.element().contains(event.target)\n\t\t\t|| this.menu_button.element().contains(event.target))\n\t\t{\n\t\t\treturn\n\t\t}\n\n\t\tthis.menu.hide()\n\t}\n\n\t// toggle_menu()\n\t// {\n\t// \tif (!this.state.show_menu)\n\t// \t{\n\t// \t\treturn this.setState({ show_menu: !this.state.show_menu, page_moved_aside: !this.state.page_moved_aside })\n\t// \t}\n\t//\n\t// \tthis.setState({ show_menu: !this.state.show_menu }, () =>\n\t// \t{\n\t// \t\t// Requires a corresponding `clearTimeout()`` in `componentWillUnmount()``\n\t// \t\tsetTimeout(() =>\n\t// \t\t{\n\t// \t\t\tthis.setState({ page_moved_aside: this.state.show_menu })\n\t// \t\t},\n\t// \t\tmenu_transition_duration)\n\t// \t})\n\t// }\n\n\t// update_menu_width(width)\n\t// {\n\t// \tthis.setState({ menu_width: width })\n\t// }\n\n\tgetChildContext()\n\t{\n\t\tconst context =\n\t\t{\n\t\t\treact_responsive_ui_menu:\n\t\t\t{\n\t\t\t\ttoggle : () => this.menu.toggle(),\n\n\t\t\t\tregister: (menu) =>\n\t\t\t\t{\n\t\t\t\t\tif (this.menu)\n\t\t\t\t\t{\n\t\t\t\t\t\tthrow new Error('There already is a menu registered for this page')\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.menu = menu\n\n\t\t\t\t\treturn () => this.menu = undefined\n\t\t\t\t},\n\n\t\t\t\tregister_menu_button: (menu_button) =>\n\t\t\t\t{\n\t\t\t\t\tif (this.menu_button)\n\t\t\t\t\t{\n\t\t\t\t\t\tthrow new Error('There already is a menu button registered for this page')\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.menu_button = menu_button\n\n\t\t\t\t\treturn () => this.menu_button = undefined\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn context\n\t}\n}"]}