{"version":3,"sources":["../source/Button.js"],"names":["React","PureComponent","PropTypes","ReactDOM","classNames","ActivityIndicator","Button","link_on_click","bind","button_on_click","props","disabled","busy","submit","title","stretch","style","className","markup","render_button","link","linkDownload","buttonStyle","children","properties","ref","button","contents","findDOMNode","focus","event","action","shiftKey","altKey","ctrlKey","metaKey","preventDefault","propTypes","func","bool","string","isRequired","object","defaultProps"],"mappings":"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","file":"Button.js","sourcesContent":["import React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\nimport ReactDOM from 'react-dom'\nimport classNames from 'classnames'\n\nimport ActivityIndicator from './ActivityIndicator'\n\nexport default class Button extends PureComponent\n{\n\tstatic propTypes =\n\t{\n\t\t// onClick handler\n\t\taction          : PropTypes.func,\n\n\t\t// If `busy` is `true` then the button\n\t\t// will be disabled and a spinner will be shown.\n\t\tbusy            : PropTypes.bool,\n\n\t\t// Disables the button\n\t\tdisabled        : PropTypes.bool,\n\n\t\t// When `true`, the button will submit an enclosing form.\n\t\tsubmit          : PropTypes.bool,\n\n\t\t// If `link` is set, then the button is gonna be an <a/> tag.\n\t\tlink            : PropTypes.string,\n\n\t\t// `<a download=\"...\"/>` HTML attribute\n\t\tlinkDownload    : PropTypes.string,\n\n\t\t// HTML `title` attribute\n\t\ttitle           : PropTypes.string,\n\n\t\t// Set to `true` to stretch the button to full width\n\t\tstretch         : PropTypes.bool.isRequired,\n\n\t\t// CSS class name\n\t\tclassName       : PropTypes.string,\n\n\t\t// CSS style object for the button container\n\t\tstyle           : PropTypes.object,\n\n\t\t// CSS style object for the button itself\n\t\tbuttonStyle     : PropTypes.object\n\t}\n\n\tstatic defaultProps =\n\t{\n\t\t// Set to `true` to stretch the button to full width\n\t\tstretch : false\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper()\n\n\t\tthis.link_on_click   = this.link_on_click.bind(this)\n\t\tthis.button_on_click = this.button_on_click.bind(this)\n\t}\n\n\trender()\n\t{\n\t\tconst\n\t\t{\n\t\t\tdisabled,\n\t\t\tbusy,\n\t\t\tsubmit,\n\t\t\ttitle,\n\t\t\tstretch,\n\t\t\tstyle,\n\t\t\tclassName\n\t\t}\n\t\t= this.props\n\n\t\tconst markup =\n\t\t(\n\t\t\t<div\n\t\t\t\tclassName={ classNames('rrui__input', 'rrui__button',\n\t\t\t\t{\n\t\t\t\t\t'rrui__button--busy'     : busy,\n\t\t\t\t\t'rrui__button--disabled' : disabled,\n\t\t\t\t\t'rrui__button--stretch'  : stretch\n\t\t\t\t},\n\t\t\t\tclassName) }\n\t\t\t\tstyle={ style }>\n\n\t\t\t\t<ActivityIndicator\n\t\t\t\t\tclassName={ classNames('rrui__button__activity-indicator',\n\t\t\t\t\t{\n\t\t\t\t\t\t// CSS selector performance optimization\n\t\t\t\t\t\t'rrui__button__activity-indicator--busy'   : busy\n\t\t\t\t\t}) }/>\n\n\t\t\t\t{ this.render_button() }\n\t\t\t</div>\n\t\t)\n\n\t\treturn markup\n\t}\n\n\trender_button()\n\t{\n\t\tconst\n\t\t{\n\t\t\tlink,\n\t\t\tlinkDownload,\n\t\t\ttitle,\n\t\t\tbusy,\n\t\t\tdisabled,\n\t\t\tsubmit,\n\t\t\tbuttonStyle,\n\t\t\tchildren\n\t\t}\n\t\t= this.props\n\n\t\tconst className = classNames('rrui__button__button',\n\t\t{\n\t\t\t'rrui__button__button--link'     : link,\n\t\t\t// CSS selector performance optimization\n\t\t\t'rrui__button__button--busy'     : busy,\n\t\t\t'rrui__button__button--disabled' : disabled\n\t\t})\n\n\t\tconst properties =\n\t\t{\n\t\t\tref: ref => this.button = ref,\n\t\t\ttitle,\n\t\t\tclassName,\n\t\t\tstyle: buttonStyle\n\t\t}\n\n\t\tconst contents = <div\n\t\t\tclassName={ classNames('rrui__button__contents',\n\t\t\t{\n\t\t\t\t// CSS selector performance optimization\n\t\t\t\t'rrui__button__contents--busy' : busy\n\t\t\t}) }>\n\t\t\t{ children }\n\t\t</div>\n\n\t\tif (link)\n\t\t{\n\t\t\tconst markup =\n\t\t\t(\n\t\t\t\t<a\n\t\t\t\t\thref={ link }\n\t\t\t\t\tdownload={ linkDownload }\n\t\t\t\t\tonClick={ this.link_on_click }\n\t\t\t\t\t{ ...properties }>\n\n\t\t\t\t\t{ contents }\n\t\t\t\t</a>\n\t\t\t)\n\n\t\t\treturn markup\n\t\t}\n\n\t\tconst markup =\n\t\t(\n\t\t\t<button\n\t\t\t\ttype={ submit ? 'submit' : 'button' }\n\t\t\t\tdisabled={ busy || disabled }\n\t\t\t\tonClick={ this.button_on_click }\n\t\t\t\t{ ...properties }>\n\n\t\t\t\t{ contents }\n\t\t\t</button>\n\t\t)\n\n\t\treturn markup\n\t}\n\n\tfocus()\n\t{\n\t\tReactDOM.findDOMNode(this.button).focus()\n\t}\n\n\tlink_on_click(event)\n\t{\n\t\tconst\n\t\t{\n\t\t\tbusy,\n\t\t\tdisabled,\n\t\t\taction\n\t\t}\n\t\t= this.props\n\n\t\t// Only handle left mouse button clicks\n\t\t// ignoring those ones with a modifier key pressed\n\t\tif (event.button !== 0\n\t\t\t|| event.shiftKey\n\t\t\t|| event.altKey\n\t\t\t|| event.ctrlKey\n\t\t\t|| event.metaKey)\n\t\t{\n\t\t\treturn\n\t\t}\n\n\t\tif (busy || disabled)\n\t\t{\n\t\t\treturn\n\t\t}\n\n\t\t// Could be just a \"submit\" button without having any `action`.\n\t\t// Could also be just a `link` button.\n\t\t// Therefore \"preventing default\" only if `action` is set:\n\t\t// for example, if `link` is set and no `action`\n\t\t// then it should proceed with navigating to the `link`.\n\t\t// And if `link` is set and `action` is specified too\n\t\t// then it will prevent it from navigating to the `link`.\n\t\tif (action)\n\t\t{\n\t\t\tevent.preventDefault()\n\t\t\taction()\n\t\t}\n\t}\n\n\tbutton_on_click(event)\n\t{\n\t\tconst { action } = this.props\n\n\t\t// Could be just a \"submit\" button\n\t\tif (action)\n\t\t{\n\t\t\taction()\n\t\t}\n\t}\n}"]}